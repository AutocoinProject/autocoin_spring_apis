# EC2 í‚¤ í˜ì–´ ë³€ê²½ ê°€ì´ë“œ

## ğŸ”„ spring_key â†’ ec2_key ë³€ê²½ ë°©ë²•

### âš ï¸ ì¤‘ìš”ì‚¬í•­
EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ í‚¤ í˜ì–´ëŠ” **ìƒì„± í›„ ë³€ê²½ ë¶ˆê°€**í•©ë‹ˆë‹¤.
í•˜ì§€ë§Œ **ì¶”ê°€ í‚¤**ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ› ï¸ ë°©ë²• 1: ìƒˆ ê³µê°œí‚¤ ì¶”ê°€ (ê¶Œì¥)

### 1ë‹¨ê³„: í˜„ì¬ í‚¤ë¡œ EC2 ì ‘ì†
```bash
# í˜„ì¬ ì‘ë™í•˜ëŠ” í‚¤ë¡œ ì ‘ì†
ssh -i "C:\DEV\autocoin-new-key.pem" ec2-user@54.175.66.222
```

### 2ë‹¨ê³„: ec2_keyì˜ ê³µê°œí‚¤ í™•ì¸
AWS ì½˜ì†”ì—ì„œ ec2_keyì˜ ê³µê°œí‚¤ë¥¼ í™•ì¸í•˜ê±°ë‚˜, ë¡œì»¬ì— ec2_key.pemì´ ìˆë‹¤ë©´:
```bash
# ê³µê°œí‚¤ ì¶”ì¶œ
ssh-keygen -y -f ec2_key.pem
```

### 3ë‹¨ê³„: EC2ì—ì„œ ìƒˆ ê³µê°œí‚¤ ì¶”ê°€
```bash
# EC2ì—ì„œ ì‹¤í–‰
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQ... ec2_keyì˜_ê³µê°œí‚¤" >> ~/.ssh/authorized_keys

# ê¶Œí•œ í™•ì¸
chmod 600 ~/.ssh/authorized_keys
chmod 700 ~/.ssh
```

### 4ë‹¨ê³„: ìƒˆ í‚¤ë¡œ í…ŒìŠ¤íŠ¸
```bash
# ë¡œì»¬ì—ì„œ ìƒˆ í‚¤ë¡œ ì ‘ì† í…ŒìŠ¤íŠ¸
ssh -i ec2_key.pem ec2-user@54.175.66.222
```

## ğŸ› ï¸ ë°©ë²• 2: ì¸ìŠ¤í„´ìŠ¤ ì¬ìƒì„± (ì™„ì „ ë³€ê²½)

### ì¥ì 
- ì™„ì „íˆ ìƒˆë¡œìš´ í‚¤ í˜ì–´ ì‚¬ìš©
- ê¹”ë”í•œ ì„¤ì •

### ë‹¨ì 
- **ë°ì´í„° ì†ì‹¤ ìœ„í—˜**
- ë‹¤ìš´íƒ€ì„ ë°œìƒ
- ë³µì¡í•œ ì„¤ì • ì¬êµ¬ì„±

### ê³¼ì •
1. **í˜„ì¬ ë°ì´í„° ë°±ì—…**
2. **AMI(ì´ë¯¸ì§€) ìƒì„±**
3. **ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘** (ec2_key ì„ íƒ)
4. **ë°ì´í„° ë³µì›**
5. **Elastic IP ì¬í• ë‹¹**

## ğŸ› ï¸ ë°©ë²• 3: í‚¤ íŒŒì¼ êµì²´ (ì‹¤ìš©ì )

### AWS ì½˜ì†”ì—ì„œ ec2_key.pem ë‹¤ìš´ë¡œë“œ
1. **EC2 ì½˜ì†”** â†’ **í‚¤ í˜ì–´** â†’ `ec2_key` ì„ íƒ
2. **ì‘ì—…** â†’ **í‚¤ í˜ì–´ ë‹¤ìš´ë¡œë“œ** (ì²˜ìŒ ìƒì„± ì‹œì—ë§Œ ê°€ëŠ¥)

âš ï¸ **ì£¼ì˜**: í‚¤ í˜ì–´ëŠ” ìƒì„± ì‹œì—ë§Œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ğŸ¯ ê¶Œì¥ ì†”ë£¨ì…˜

### ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ ë°©ë²•

1. **ë°©ë²• 1 ì‚¬ìš©**: ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ì— ìƒˆ ê³µê°œí‚¤ ì¶”ê°€
2. **GitHub Secrets ì—…ë°ì´íŠ¸**: ìƒˆ ec2_key ë‚´ìš©ìœ¼ë¡œ ì„¤ì •
3. **ê¸°ì¡´ í‚¤ ì œê±°**: ì‘ë™ í™•ì¸ í›„ spring_key ê³µê°œí‚¤ ì œê±°

### ë‹¨ê³„ë³„ ì‹¤í–‰
```bash
# 1. í˜„ì¬ í‚¤ë¡œ ì ‘ì†
ssh -i "C:\DEV\autocoin-new-key.pem" ec2-user@54.175.66.222

# 2. í˜„ì¬ authorized_keys ë°±ì—…
cp ~/.ssh/authorized_keys ~/.ssh/authorized_keys.backup

# 3. ìƒˆ ê³µê°œí‚¤ ì¶”ê°€ (ec2_keyì˜ ê³µê°œí‚¤)
echo "ìƒˆ_ê³µê°œí‚¤_ë‚´ìš©" >> ~/.ssh/authorized_keys

# 4. ê¶Œí•œ í™•ì¸
chmod 600 ~/.ssh/authorized_keys

# 5. ìƒˆ í‚¤ë¡œ í…ŒìŠ¤íŠ¸
exit
ssh -i ec2_key.pem ec2-user@54.175.66.222

# 6. ì„±ê³µ ì‹œ ê¸°ì¡´ í‚¤ ì œê±° (ì„ íƒì‚¬í•­)
# nano ~/.ssh/authorized_keys  # spring_key ê³µê°œí‚¤ ë¼ì¸ ì‚­ì œ
```

## ğŸš¨ ë°±ì—… ê³„íš

ë¬¸ì œ ë°œìƒ ì‹œ ë³µêµ¬ ë°©ë²•:
```bash
# authorized_keys ë³µì›
cp ~/.ssh/authorized_keys.backup ~/.ssh/authorized_keys
```

## â“ ec2_key.pem íŒŒì¼ì´ ì—†ë‹¤ë©´?

1. **ìƒˆ í‚¤ í˜ì–´ ìƒì„±**: AWS ì½˜ì†”ì—ì„œ ìƒˆë¡œìš´ í‚¤ í˜ì–´ ìƒì„±
2. **ë°©ë²• 1 ì ìš©**: ìƒˆ ê³µê°œí‚¤ë¥¼ authorized_keysì— ì¶”ê°€
3. **GitHub Secrets ì—…ë°ì´íŠ¸**: ìƒˆ í‚¤ë¡œ ì„¤ì •
